!function (e) { e.alerts = { verticalOffset: -75, horizontalOffset: 0, repositionOnResize: !0, overlayOpacity: .01, overlayColor: "#FFF", draggable: !1, okButton: "&nbsp;OK&nbsp;", cancelButton: "&nbsp;Cancel&nbsp;", dialogClass: null, alert: function (p, o, t, i) { jQuery.isFunction(t) && (i = t, t = kcs_Message.jAlertTitle), null == t && (t = kcs_Message.jAlertTitle), e.alerts._show(t, p, null, "alert", o, function (e) { i && i(e) }) }, confirm: function (p, o, t) { jQuery.isFunction(o) && (t = o, o = kcs_Message.jConfirmTitle), null == o && (o = kcs_Message.jConfirmTitle), e.alerts._show(o, p, null, "confirm", "", function (e) { t && t(e) }) }, prompt: function (p, o, t, i) { jQuery.isFunction(t) && (i = t, t = kcs_Message.jPromptTitle), (null == t || "" == t) && (t = jPromptTitle), e.alerts._show(t, p, o, "prompt", "", function (e) { i && i(e) }) }, _show: function (p, o, t, i, n, r) { e.alerts._hide(), e.alerts._overlay("show"), e("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>'), e.alerts.dialogClass && e("#popup_container").addClass(e.alerts.dialogClass); var a = e.browser.msie && parseInt(e.browser.version) <= 6 ? "absolute" : "fixed"; switch (e("#popup_container").css({ position: a, zIndex: 99999, padding: 0, margin: 0 }), e("#popup_title").text(p), e("#popup_content").addClass(i), e("#popup_message").text(o), e("#popup_message").html(e("#popup_message").text().replace(/\n/g, "<br />")), e("#popup_container").css({ minWidth: e("#popup_container").outerWidth(), maxWidth: e("#popup_container").outerWidth() }), e.alerts._reposition(), e.alerts._maintainPosition(!0), i) { case "alert": e("#popup_message").after('<div id="popup_panel"><input type="button" value="' + e.alerts.okButton + '" id="popup_ok" /></div>'), e("#popup_ok").click(function () { e.alerts._hide(), "" != n && null != document.getElementById(n) && document.getElementById(n).focus(), r(!0) }), e("#popup_ok").focus().keypress(function (p) { (13 == p.keyCode || 27 == p.keyCode) && e("#popup_ok").trigger("click") }); break; case "confirm": e("#popup_message").after('<div id="popup_panel"><input type="button" value="' + e.alerts.okButton + '" id="popup_ok" /> <input type="button" value="' + e.alerts.cancelButton + '" id="popup_cancel" /></div>'), e("#popup_ok").click(function () { e.alerts._hide(), r && r(!0) }), e("#popup_cancel").click(function () { e.alerts._hide(), r && r(!1) }), e("#popup_ok").focus(), e("#popup_ok, #popup_cancel").keypress(function (p) { 13 == p.keyCode && e("#popup_ok").trigger("click"), 27 == p.keyCode && e("#popup_cancel").trigger("click") }); break; case "prompt": e("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="' + e.alerts.okButton + '" id="popup_ok" /> <input type="button" value="' + e.alerts.cancelButton + '" id="popup_cancel" /></div>'), e("#popup_prompt").width(e("#popup_message").width()), e("#popup_ok").click(function () { var p = e("#popup_prompt").val(); e.alerts._hide(), r && r(p) }), e("#popup_cancel").click(function () { e.alerts._hide(), r && r(null) }), e("#popup_prompt, #popup_ok, #popup_cancel").keypress(function (p) { 13 == p.keyCode && e("#popup_ok").trigger("click"), 27 == p.keyCode && e("#popup_cancel").trigger("click") }), t && e("#popup_prompt").val(t), e("#popup_prompt").focus().select() } if (e.alerts.draggable) try { e("#popup_container").draggable({ handle: e("#popup_title") }), e("#popup_title").css({ cursor: "move" }) } catch (s) { } }, _hide: function () { e("#popup_container").remove(), e.alerts._overlay("hide"), e.alerts._maintainPosition(!1) }, _overlay: function (p) { switch (p) { case "show": e.alerts._overlay("hide"), e("BODY").append('<div id="popup_overlay"></div>'), e("#popup_overlay").css({ position: "absolute", zIndex: 99998, top: "0px", left: "0px", width: "100%", height: e(document).height(), background: e.alerts.overlayColor, opacity: e.alerts.overlayOpacity }); break; case "hide": e("#popup_overlay").remove() } }, _reposition: function () { var p = e(window).height() / 2 - e("#popup_container").outerHeight() / 2 + e.alerts.verticalOffset, o = e(window).width() / 2 - e("#popup_container").outerWidth() / 2 + e.alerts.horizontalOffset; 0 > p && (p = 0), 0 > o && (o = 0), e.browser.msie && parseInt(e.browser.version) <= 6 && (p += e(window).scrollTop()), e("#popup_container").css({ top: p + "px", left: o + "px" }), e("#popup_overlay").height(e(document).height()) }, _maintainPosition: function (p) { if (e.alerts.repositionOnResize) switch (p) { case !0: e(window).bind("resize", e.alerts._reposition); break; case !1: e(window).unbind("resize", e.alerts._reposition) } } }, jAlert = function (p, o, t, i) { e.alerts.alert(p, o, t, i) }, jConfirm = function (p, o, t) { e.alerts.confirm(p, o, t) }, jPrompt = function (p, o, t, i) { e.alerts.prompt(p, o, t, i) } }(jQuery);