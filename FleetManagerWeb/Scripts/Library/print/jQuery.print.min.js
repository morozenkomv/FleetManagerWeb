jQuery.fn.print = function () { if (this.size() > 1) return void this.eq(0).print(); if (this.size()) { var t = "printer-" + (new Date).getTime(), e = $("<iframe name='" + t + "'>"); e.css("width", "1px").css("height", "1px").css("position", "absolute").css("left", "-9999px").appendTo($("body:first")); var i = window.frames[t], r = i.document, n = $("<div>").append($("style").clone()); r.open(), r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'), r.write("<html>"), r.write("<body>"), r.write("<head>"), r.write("<title>"), r.write(document.title), r.write("</title>"), r.write(n.html()), r.write("</head>"), r.write(this.html()), r.write("</body>"), r.write("</html>"), r.close(), i.focus(), i.print(), setTimeout(function () { e.remove() }, 6e4) } };